(("undefined"!==typeof self?self:this)["webpackJsonpsupportability_review_app_2_0_3"]=("undefined"!==typeof self?self:this)["webpackJsonpsupportability_review_app_2_0_3"]||[]).push([[0],{"00da":function(a,e,t){"use strict";t("0ce9")},"0ce9":function(a,e,t){var s=t("6f3c");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[a.i,s,""]]),s.locals&&(a.exports=s.locals);var c=t("0ed3").default;c("1b5c552a",s,!0,{sourceMap:!1,shadowMode:!1})},"6f3c":function(a,e,t){var s=t("3c10");e=s(!1),e.push([a.i,".main-card-container[data-v-79e46034]{display:flex;flex-wrap:wrap}.main-card-container .card[data-v-79e46034]{width:-moz-fit-content;width:fit-content;display:flex;flex-direction:column;flex-grow:1;border:1px solid var(--border);margin:0 10px 20px 10px;padding:20px;height:320px}.main-card-container .card[data-v-79e46034]:first-child{margin-left:0}.main-card-container .card[data-v-79e46034]:last-child{margin-right:0}.main-card-container .card .card-top-block[data-v-79e46034]{display:flex;align-items:center;margin-bottom:20px}.main-card-container .card .card-top-block h1[data-v-79e46034]{margin:0 15px 0 0}.main-card-container .card .card-top-block p[data-v-79e46034]{font-size:18px}.main-card-container .card button[data-v-79e46034]{justify-content:center;width:-moz-fit-content;width:fit-content;margin-top:12px}.main-card-container .used-percentage-container>div[data-v-79e46034]{display:flex;justify-content:space-between}.main-card-container .used-percentage-container>div span[data-v-79e46034]{font-size:12px;padding-left:10px;color:var(--muted)}",""]),a.exports=e},e26d:function(a,e,t){"use strict";t.r(e);var s=function(){var a=this,e=a._self._c;return e("div",[e("h1",[a._v("Local cluster summary")]),e("h5",[a._v("Provider: "+a._s(a.provider))]),a.eomEol.rancher.is_eol?e("h5",[a._v(" "+a._s(a.eomEol.rancher.name)+" "+a._s(a.eomEol.rancher.version)+" EOL: "+a._s(a.eomEol.rancher.eol)+" ")]):a.eomEol.rancher.is_eom?e("h5",[a._v(" "+a._s(a.eomEol.rancher.name)+" "+a._s(a.eomEol.rancher.version)+" EOM: "+a._s(a.eomEol.rancher.eom)+" ")]):a._e(),a.eomEol.local.is_eol?e("h5",[a._v(a._s(a.eomEol.local.name)+" "+a._s(a.eomEol.local.version)+" EOL: "+a._s(a.eomEol.local.eol))]):a.eomEol.local.is_eom?e("h5",[a._v(" "+a._s(a.eomEol.local.name)+" "+a._s(a.eomEol.local.version)+" EOM: "+a._s(a.eomEol.local.eom)+" ")]):a._e(),e("h2",[a._v("Checks status")]),null===a.provider?e("Banner",{staticClass:"mb-20",attrs:{color:"info"}},[e("div",{directives:[{name:"clean-html",rawName:"v-clean-html",value:a.t("nav.inProgress",{},!0),expression:"t('nav.inProgress', {}, true)"}]})]):e("div",{staticClass:"main-card-container"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-top-block"},[e("h2",[a._v("Check Result")])]),e("div",[e("h5",[a._v("Passed ("+a._s(a.summaryData.checks_pass)+"/"+a._s(a.summaryData.checks_total)+")")]),e("PercentageBar",{staticClass:"mb-15",attrs:{"show-percentage":!0,value:a.summaryData.checks_pass/a.summaryData.checks_total*100,"model-value":a.summaryData.checks_pass/a.summaryData.checks_total*100,"color-stops":a.colorStopsNormal}}),e("div",{staticStyle:{cursor:"pointer"},on:{click:function(e){return a.switchToTab("all")}}},[e("h5",[a._v("Failed ("+a._s(a.summaryData.checks_fail)+"/"+a._s(a.summaryData.checks_total)+")")]),e("PercentageBar",{staticClass:"mb-15",attrs:{"show-percentage":!0,value:a.summaryData.checks_fail/a.summaryData.checks_total*100,"model-value":a.summaryData.checks_fail/a.summaryData.checks_total*100,"color-stops":a.colorStopsFail}}),e("h5",[a._v("Warning ("+a._s(a.summaryData.checks_warn)+"/"+a._s(a.summaryData.checks_total)+")")]),e("PercentageBar",{staticClass:"mb-15",attrs:{"show-percentage":!0,value:a.summaryData.checks_warn/a.summaryData.checks_total*100,"model-value":a.summaryData.checks_warn/a.summaryData.checks_total*100,"color-stops":a.colorStopsFail}})],1)],1)]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-top-block"},[e("h2",[a._v("Check Vectors")])]),e("div",[e("div",{staticStyle:{cursor:"pointer"},on:{click:function(e){return a.switchToTab("security")}}},[e("h5",[a._v("Security ("+a._s(a.vectorData.security.checks_pass)+"/"+a._s(a.vectorData.security.checks_total)+")")]),e("PercentageBar",{staticClass:"mb-15",attrs:{"show-percentage":!0,value:a.vectorData.security.checks_pass/a.vectorData.security.checks_total*100,"model-value":a.vectorData.security.checks_pass/a.vectorData.security.checks_total*100,"color-stops":a.colorStopsNormal}})],1),e("div",{staticStyle:{cursor:"pointer"},on:{click:function(e){return a.switchToTab("operationalBestPractice")}}},[e("h5",[a._v(" Operational Best Practice ("+a._s(a.vectorData.operationalBestPractice.checks_pass)+"/"+a._s(a.vectorData.operationalBestPractice.checks_total)+") ")]),e("PercentageBar",{staticClass:"mb-15",attrs:{"show-percentage":!0,value:a.vectorData.operationalBestPractice.checks_pass/a.vectorData.operationalBestPractice.checks_total*100,"model-value":a.vectorData.operationalBestPractice.checks_pass/a.vectorData.operationalBestPractice.checks_total*100,"color-stops":a.colorStopsNormal}})],1),e("div",{staticStyle:{cursor:"pointer"},on:{click:function(e){return a.switchToTab("designValidation")}}},[e("h5",[a._v(" Design Validation ("+a._s(a.vectorData.designValidation.checks_pass)+"/"+a._s(a.vectorData.designValidation.checks_total)+") ")]),e("PercentageBar",{staticClass:"mb-15",attrs:{"show-percentage":!0,value:a.vectorData.designValidation.checks_pass/a.vectorData.designValidation.checks_total*100,"model-value":a.vectorData.designValidation.checks_pass/a.vectorData.designValidation.checks_total*100,"color-stops":a.colorStopsNormal}})],1),e("div",{staticStyle:{cursor:"pointer"},on:{click:function(e){return a.switchToTab("supportMatrixConformance")}}},[e("h5",[a._v(" Support Matrix Conformance ("+a._s(a.vectorData.supportMatrixConformance.checks_pass)+"/"+a._s(a.vectorData.supportMatrixConformance.checks_total)+") ")]),e("PercentageBar",{staticClass:"mb-15",attrs:{"show-percentage":!0,value:a.vectorData.supportMatrixConformance.checks_pass/a.vectorData.supportMatrixConformance.checks_total*100,"model-value":a.vectorData.supportMatrixConformance.checks_pass/a.vectorData.supportMatrixConformance.checks_total*100,"color-stops":a.colorStopsNormal}})],1)])])]),e("h2",[a._v("Failed/Warnings")]),null===a.provider?e("Banner",{staticClass:"mb-20",attrs:{color:"info"}},[e("div",{directives:[{name:"clean-html",rawName:"v-clean-html",value:a.t("nav.inProgress",{},!0),expression:"t('nav.inProgress', {}, true)"}]})]):e("Tabbed",{ref:"tabbedRef"},[e("Tab",{attrs:{"label-key":"sr.vector.all",name:"all",weight:6}},[e("div",[e("SortableTable",{attrs:{headers:a.checkResultHeaders,search:!1,tableActions:!1,rowActions:!1,rows:a.vectorList.all}})],1)]),e("Tab",{attrs:{"label-key":"sr.vector.security",name:"security",weight:5}},[e("div",[e("SortableTable",{attrs:{headers:a.checkResultHeaders,search:!1,tableActions:!1,rowActions:!1,rows:a.vectorList.security}})],1)]),e("Tab",{attrs:{"label-key":"sr.vector.operationalBestPractice",name:"operationalBestPractice",weight:4}},[e("div",[e("SortableTable",{attrs:{headers:a.checkResultHeaders,search:!1,tableActions:!1,rowActions:!1,rows:a.vectorList.operationalBestPractice}})],1)]),e("Tab",{attrs:{"label-key":"sr.vector.designValidation",name:"designValidation",weight:3}},[e("div",[e("SortableTable",{attrs:{headers:a.checkResultHeaders,search:!1,tableActions:!1,rowActions:!1,rows:a.vectorList.designValidation}})],1)]),e("Tab",{attrs:{"label-key":"sr.vector.supportMatrixConformance",name:"supportMatrixConformance",weight:2}},[e("div",[e("SortableTable",{attrs:{headers:a.checkResultHeaders,search:!1,tableActions:!1,rowActions:!1,rows:a.vectorList.supportMatrixConformance}})],1)])],1),e("div",[e("Banner",{staticClass:"mb-10",attrs:{color:"info"}},[e("div",{directives:[{name:"clean-html",rawName:"v-clean-html",value:a.t("sr.menuLabels.upSell",{},!0),expression:"t('sr.menuLabels.upSell', {}, true)"}]})])],1)],1)},c=[],r=t("ea72"),o=t("0fb1"),i=t("0cb2"),l=t("38de"),n=t("6418"),h={name:"ReviewBundleDetailView",components:{Banner:n["a"],PercentageBar:r["a"],SortableTable:o["a"],Tabbed:i["a"],Tab:l["a"]},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){return{provider:null,summaryData:{checks_total:0,checks_fail:0,checks_warn:0,checks_pass:0},vectorData:{security:{checks_total:0,checks_fail:0,checks_warn:0,checks_pass:0},operationalBestPractice:{checks_total:0,checks_fail:0,checks_warn:0,checks_pass:0},designValidation:{checks_total:0,checks_fail:0,checks_warn:0,checks_pass:0},supportMatrixConformance:{checks_total:0,checks_fail:0,checks_warn:0,checks_pass:0}},eomEol:{local:{name:"",version:"",is_eol:!1,is_eom:!1,eol:"",eom:""},rancher:{name:"",version:"",is_eol:!1,is_eom:!1,eol:"",eom:""}},vectorList:{all:[],security:[],operationalBestPractice:[],designValidation:[],supportMatrixConformance:[]},colorStopsFail:{0:"--success",20:"--info",75:"--warning",95:"--error"},colorStopsNormal:{0:"--error",20:"--warning",75:"--info",95:"--success"},activeTab:"security"}},computed:{checkResultHeaders(){const a=[{name:"checkStatus",labelKey:"tableHeaders.checkStatus"},{name:"checkNumber",labelKey:"tableHeaders.checkNumber"},{name:"checkDescription",labelKey:"tableHeaders.checkDescription"}];return a}},mounted(){this.fetchReport()},methods:{async fetchReport(){const a=this.value.id,e="/k8s/clusters/local/api/v1/namespaces/sr-operator-system/services/http:sr-bundle-app-frontend-service:80/proxy/?key="+a+"&type=data";fetch(e).then(a=>{if(!a.ok)throw new Error("HTTP error! Status: "+a.status);return a.json()}).then(a=>{var e;const t={summaryData:{checks_total:0,checks_fail:0,checks_warn:0,checks_pass:0,checks_skip:0},vectorData:{},cards:[]};for(const c of a.clusters)if("local"===c.cluster_id){this.provider=c.kubernetes_distro,t.summaryData.checks_fail+=c.checks_fail,t.summaryData.checks_warn+=c.checks_warn,t.summaryData.checks_pass+=c.checks_pass,t.summaryData.checks_skip+=c.checks_skip,t.summaryData.checks_total+=c.checks_total-c.checks_skip,c.groups.forEach(a=>{a.checks.forEach(a=>{t.vectorData[a.vector]||(t.vectorData[a.vector]={checks_total:0,checks_pass:0,checks_fail:0,checks_warn:0}),t.vectorData[a.vector].checks_pass+="pass"===a.state,t.vectorData[a.vector].checks_fail+="fail"===a.state,t.vectorData[a.vector].checks_warn+="warn"===a.state,"fail"!=a.state&&"warn"!=a.state||t.cards.push({id:a.check_id,details:a.text,state:"fail"==a.state?"Failed":"Warning",vector:a.vector,priority:a.priority})})});for(const a in t.vectorData){const e=t.vectorData[a];e.checks_total=e.checks_pass+e.checks_fail+e.checks_warn}break}null===a||void 0===a||null===(e=a.systems_summary)||void 0===e||null===(e=e.eom_eol)||void 0===e||e.forEach(a=>{if("local"!==a.cluster)return;const e={name:a.app,version:a.version.split(".").slice(0,2).join("."),eol:a.eol_date?a.eol_date.split("/").join("-"):null,eom:a.eom_date?a.eom_date.split("/").join("-"):null,is_eol:a.is_eol,is_eom:a.is_eom};"rancher"===a.app?this.eomEol.rancher=e:a.app===this.provider&&(this.eomEol.local=e)}),t.cards.sort((a,e)=>{const t={high:1,medium:2,low:3},s={fail:1,warn:2};return(s[a.state]||3)-(s[e.state]||3)||t[a.priority]-t[e.priority]});const s=5;t.cards.forEach(a=>{const e={checkStatus:a.state,checkNumber:a.id,checkDescription:a.details};switch(this.vectorList.all.length<s&&this.vectorList.all.push(e),a.vector){case"Security":this.vectorList.security.length<s&&this.vectorList.security.push(e);break;case"Operational Best Practice":this.vectorList.operationalBestPractice.length<s&&this.vectorList.operationalBestPractice.push(e);break;case"Design Validation":this.vectorList.designValidation.length<s&&this.vectorList.designValidation.push(e);break;case"Support Matrix Conformance":this.vectorList.supportMatrixConformance.length<s&&this.vectorList.supportMatrixConformance.push(e);break}}),this.summaryData=t.summaryData||{},this.vectorData.security=t.vectorData["Security"],this.vectorData.operationalBestPractice=t.vectorData["Operational Best Practice"],this.vectorData.designValidation=t.vectorData["Design Validation"],this.vectorData.supportMatrixConformance=t.vectorData["Support Matrix Conformance"]}).catch(a=>{console.error("Error:",a)})},switchToTab(a){var e;null===(e=this.$refs.tabbedRef)||void 0===e||e.select(a)}}},p=h,d=(t("00da"),t("2be6")),m=Object(d["a"])(p,s,c,!1,null,"79e46034",null);e["default"]=m.exports}}]);
//# sourceMappingURL=supportability-review-app-2.0.3.umd.min.detail.js.map