(("undefined"!==typeof self?self:this)["webpackChunksupportability_review_app_3_0_0"]=("undefined"!==typeof self?self:this)["webpackChunksupportability_review_app_3_0_0"]||[]).push([[332],{17302:function(e,t,a){"use strict";a.r(t);var o=a(36758),r=a.n(o),c=a(40935),s=a.n(c),l=s()(r());l.push([e.id,".main-card-container[data-v-024d1bee]{display:flex;flex-wrap:wrap}.main-card-container .card[data-v-024d1bee]{width:-moz-fit-content;width:fit-content;display:flex;flex-direction:column;flex-grow:1;border:1px solid var(--border);margin:0 10px 20px 10px;padding:20px;height:320px}.main-card-container .card[data-v-024d1bee]:first-child{margin-left:0}.main-card-container .card[data-v-024d1bee]:last-child{margin-right:0}.main-card-container .card .card-top-block[data-v-024d1bee]{display:flex;align-items:center;margin-bottom:20px}.main-card-container .card .card-top-block h1[data-v-024d1bee]{margin:0 15px 0 0}.main-card-container .card .card-top-block p[data-v-024d1bee]{font-size:18px}.main-card-container .card button[data-v-024d1bee]{justify-content:center;width:-moz-fit-content;width:fit-content;margin-top:12px}.main-card-container .used-percentage-container>div[data-v-024d1bee]{display:flex;justify-content:space-between}.main-card-container .used-percentage-container>div span[data-v-024d1bee]{font-size:12px;padding-left:10px;color:var(--muted)}",""]),t["default"]=l},22880:function(e,t,a){"use strict";a.r(t);var o=a(36758),r=a.n(o),c=a(40935),s=a.n(c),l=s()(r());l.push([e.id,".bar[data-v-b4f4e2ae]{width:100%;height:15px;border-radius:7.5px;overflow:hidden;position:relative}.bar .indicator[data-v-b4f4e2ae]{height:100%}.bar .slice[data-v-b4f4e2ae]{position:absolute;top:0;bottom:0;width:1px;background-color:var(--body-bg)}",""]),t["default"]=l},36939:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var o=a(9274);const r={key:0},c={key:1},s={key:2},l={key:3},i={key:5,class:"main-card-container"},n={class:"card"},d={class:"card"};function p(e,t,a,p,h,m){const u=(0,o.resolveComponent)("Banner"),v=(0,o.resolveComponent)("PercentageBar"),k=(0,o.resolveComponent)("SortableTable"),y=(0,o.resolveComponent)("Tab"),f=(0,o.resolveComponent)("Tabbed"),_=(0,o.resolveDirective)("clean-html");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[t[7]||(t[7]=(0,o.createElementVNode)("h1",null,"Local cluster summary",-1)),(0,o.createElementVNode)("h5",null,"Provider: "+(0,o.toDisplayString)(h.provider),1),h.eomEol.rancher.is_eol?((0,o.openBlock)(),(0,o.createElementBlock)("h5",r,(0,o.toDisplayString)(h.eomEol.rancher.name)+" "+(0,o.toDisplayString)(h.eomEol.rancher.version)+" EOL: "+(0,o.toDisplayString)(h.eomEol.rancher.eol),1)):h.eomEol.rancher.is_eom?((0,o.openBlock)(),(0,o.createElementBlock)("h5",c,(0,o.toDisplayString)(h.eomEol.rancher.name)+" "+(0,o.toDisplayString)(h.eomEol.rancher.version)+" EOM: "+(0,o.toDisplayString)(h.eomEol.rancher.eom),1)):(0,o.createCommentVNode)("",!0),h.eomEol.local.is_eol?((0,o.openBlock)(),(0,o.createElementBlock)("h5",s,(0,o.toDisplayString)(h.eomEol.local.name)+" "+(0,o.toDisplayString)(h.eomEol.local.version)+" EOL: "+(0,o.toDisplayString)(h.eomEol.local.eol),1)):h.eomEol.local.is_eom?((0,o.openBlock)(),(0,o.createElementBlock)("h5",l,(0,o.toDisplayString)(h.eomEol.local.name)+" "+(0,o.toDisplayString)(h.eomEol.local.version)+" EOM: "+(0,o.toDisplayString)(h.eomEol.local.eom),1)):(0,o.createCommentVNode)("",!0),t[8]||(t[8]=(0,o.createElementVNode)("h2",null,"Checks status",-1)),null===h.provider?((0,o.openBlock)(),(0,o.createBlock)(u,{key:4,class:"mb-20",color:"info"},{default:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("div",null,null,512),[[_,e.t("nav.inProgress",{},!0)]])])),_:1})):((0,o.openBlock)(),(0,o.createElementBlock)("div",i,[(0,o.createElementVNode)("div",n,[t[5]||(t[5]=(0,o.createElementVNode)("div",{class:"card-top-block"},[(0,o.createElementVNode)("h2",null,"Check Result")],-1)),(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("h5",null,"Passed ("+(0,o.toDisplayString)(h.summaryData.checks_pass)+"/"+(0,o.toDisplayString)(h.summaryData.checks_total)+")",1),(0,o.createVNode)(v,{class:"mb-15","show-percentage":!0,"model-value":h.summaryData.checks_pass/h.summaryData.checks_total*100,"color-stops":h.colorStopsNormal},null,8,["model-value","color-stops"]),(0,o.createElementVNode)("div",{style:{cursor:"pointer"},onClick:t[0]||(t[0]=e=>m.switchToTab("all"))},[(0,o.createElementVNode)("h5",null,"Failed ("+(0,o.toDisplayString)(h.summaryData.checks_fail)+"/"+(0,o.toDisplayString)(h.summaryData.checks_total)+")",1),(0,o.createVNode)(v,{class:"mb-15","show-percentage":!0,"model-value":h.summaryData.checks_fail/h.summaryData.checks_total*100,"color-stops":h.colorStopsFail},null,8,["model-value","color-stops"]),(0,o.createElementVNode)("h5",null,"Warning ("+(0,o.toDisplayString)(h.summaryData.checks_warn)+"/"+(0,o.toDisplayString)(h.summaryData.checks_total)+")",1),(0,o.createVNode)(v,{class:"mb-15","show-percentage":!0,"model-value":h.summaryData.checks_warn/h.summaryData.checks_total*100,"color-stops":h.colorStopsFail},null,8,["model-value","color-stops"])])])]),(0,o.createElementVNode)("div",d,[t[6]||(t[6]=(0,o.createElementVNode)("div",{class:"card-top-block"},[(0,o.createElementVNode)("h2",null,"Check Vectors")],-1)),(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("div",{style:{cursor:"pointer"},onClick:t[1]||(t[1]=e=>m.switchToTab("security"))},[(0,o.createElementVNode)("h5",null,"Security ("+(0,o.toDisplayString)(h.vectorData.security.checks_pass)+"/"+(0,o.toDisplayString)(h.vectorData.security.checks_total)+")",1),(0,o.createVNode)(v,{class:"mb-15","show-percentage":!0,"model-value":h.vectorData.security.checks_pass/h.vectorData.security.checks_total*100,"color-stops":h.colorStopsNormal},null,8,["model-value","color-stops"])]),(0,o.createElementVNode)("div",{style:{cursor:"pointer"},onClick:t[2]||(t[2]=e=>m.switchToTab("operationalBestPractice"))},[(0,o.createElementVNode)("h5",null," Operational Best Practice ("+(0,o.toDisplayString)(h.vectorData.operationalBestPractice.checks_pass)+"/"+(0,o.toDisplayString)(h.vectorData.operationalBestPractice.checks_total)+") ",1),(0,o.createVNode)(v,{class:"mb-15","show-percentage":!0,"model-value":h.vectorData.operationalBestPractice.checks_pass/h.vectorData.operationalBestPractice.checks_total*100,"color-stops":h.colorStopsNormal},null,8,["model-value","color-stops"])]),(0,o.createElementVNode)("div",{style:{cursor:"pointer"},onClick:t[3]||(t[3]=e=>m.switchToTab("designValidation"))},[(0,o.createElementVNode)("h5",null," Design Validation ("+(0,o.toDisplayString)(h.vectorData.designValidation.checks_pass)+"/"+(0,o.toDisplayString)(h.vectorData.designValidation.checks_total)+") ",1),(0,o.createVNode)(v,{class:"mb-15","show-percentage":!0,"model-value":h.vectorData.designValidation.checks_pass/h.vectorData.designValidation.checks_total*100,"color-stops":h.colorStopsNormal},null,8,["model-value","color-stops"])]),(0,o.createElementVNode)("div",{style:{cursor:"pointer"},onClick:t[4]||(t[4]=e=>m.switchToTab("supportMatrixConformance"))},[(0,o.createElementVNode)("h5",null," Support Matrix Conformance ("+(0,o.toDisplayString)(h.vectorData.supportMatrixConformance.checks_pass)+"/"+(0,o.toDisplayString)(h.vectorData.supportMatrixConformance.checks_total)+") ",1),(0,o.createVNode)(v,{class:"mb-15","show-percentage":!0,"model-value":h.vectorData.supportMatrixConformance.checks_pass/h.vectorData.supportMatrixConformance.checks_total*100,"color-stops":h.colorStopsNormal},null,8,["model-value","color-stops"])])])])])),t[9]||(t[9]=(0,o.createElementVNode)("h2",null,"Failed/Warnings",-1)),null===h.provider?((0,o.openBlock)(),(0,o.createBlock)(u,{key:6,class:"mb-20",color:"info"},{default:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("div",null,null,512),[[_,e.t("nav.inProgress",{},!0)]])])),_:1})):((0,o.openBlock)(),(0,o.createBlock)(f,{key:7,ref:"tabbedRef"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(y,{"label-key":"sr.vector.all",name:"all",weight:6},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",null,[(0,o.createVNode)(k,{headers:m.checkResultHeaders,search:!1,tableActions:!1,rowActions:!1,rows:h.vectorList.all},null,8,["headers","rows"])])])),_:1}),(0,o.createVNode)(y,{"label-key":"sr.vector.security",name:"security",weight:5},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",null,[(0,o.createVNode)(k,{headers:m.checkResultHeaders,search:!1,tableActions:!1,rowActions:!1,rows:h.vectorList.security},null,8,["headers","rows"])])])),_:1}),(0,o.createVNode)(y,{"label-key":"sr.vector.operationalBestPractice",name:"operationalBestPractice",weight:4},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",null,[(0,o.createVNode)(k,{headers:m.checkResultHeaders,search:!1,tableActions:!1,rowActions:!1,rows:h.vectorList.operationalBestPractice},null,8,["headers","rows"])])])),_:1}),(0,o.createVNode)(y,{"label-key":"sr.vector.designValidation",name:"designValidation",weight:3},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",null,[(0,o.createVNode)(k,{headers:m.checkResultHeaders,search:!1,tableActions:!1,rowActions:!1,rows:h.vectorList.designValidation},null,8,["headers","rows"])])])),_:1}),(0,o.createVNode)(y,{"label-key":"sr.vector.supportMatrixConformance",name:"supportMatrixConformance",weight:2},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",null,[(0,o.createVNode)(k,{headers:m.checkResultHeaders,search:!1,tableActions:!1,rowActions:!1,rows:h.vectorList.supportMatrixConformance},null,8,["headers","rows"])])])),_:1})])),_:1},512)),(0,o.createElementVNode)("div",null,[(0,o.createVNode)(u,{class:"mb-10",color:"info"},{default:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("div",null,null,512),[[_,e.t("sr.menuLabels.upSell",{},!0)]])])),_:1})])])}const h={class:"percentage-bar"},m={key:0,class:"ml-5 percentage-value"};function u(e,t,a,r,c,s){const l=(0,o.resolveComponent)("Bar");return(0,o.openBlock)(),(0,o.createElementBlock)("span",h,[(0,o.createVNode)(l,{percentage:a.modelValue,"primary-color":s.primaryColor,slices:a.slices},null,8,["percentage","primary-color","slices"]),a.showPercentage?((0,o.openBlock)(),(0,o.createElementBlock)("span",m,(0,o.toDisplayString)(s.formattedPercentage),1)):(0,o.createCommentVNode)("",!0)])}function v(e,t,a,r,c,s){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"bar",style:(0,o.normalizeStyle)(s.barStyle)},[(0,o.createElementVNode)("div",{class:"indicator",style:(0,o.normalizeStyle)(s.indicatorStyle)},null,4),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(s.sliceStyles,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t,class:"slice",style:(0,o.normalizeStyle)(e)},null,4)))),128))],4)}var k={props:{percentage:{type:Number,required:!0},primaryColor:{type:String,default:"--primary"},secondaryColor:{type:String,default:"--border"},slices:{type:Array,default:()=>[]}},computed:{indicatorStyle(){return{width:`${this.percentage}%`,backgroundColor:`var(${this.primaryColor})`}},barStyle(){return{backgroundColor:`var(${this.secondaryColor})`}},sliceStyles(){return this.slices.map((e=>({left:`${e}%`,visibility:e<this.percentage?"visible":"hidden"})))}}},y=(a(54752),a(47433));const f=(0,y.A)(k,[["render",v],["__scopeId","data-v-b4f4e2ae"]]);var _=f,b=a(92043);const g={LESS:"LESS",MORE:"MORE"};var D={components:{Bar:_},props:{modelValue:{type:Number,required:!0,validator(e){return e>=0}},preferredDirection:{type:String,default:g.LESS},showPercentage:{type:Boolean,default:!1},colorStops:{type:Object,default:null},slices:{type:Array,default:()=>[]}},computed:{primaryColor(){const e=this.preferredDirection===g.LESS;if(this.colorStops){const t=Object.keys(this.colorStops).sort();if(e){let e=t.length-1;while(this.modelValue<t[e])e--;return this.colorStops[t[e]]}{let e=0;while(this.modelValue>t[e])e++;return this.colorStops[t[e]]}}const t=e?80:20,a=e?this.modelValue:t,o=e?t:this.modelValue;return a<=o?"--primary":"--error"},formattedPercentage(){return(0,b.l9)(this.modelValue)}}};a(70738);const w=(0,y.A)(D,[["render",u],["__scopeId","data-v-4ade54a6"]]);var V=w,E=a(42235),S=a(10006),N=a(49584),x=a(9980),B=a(4364),C={name:"ReviewBundleDetailView",components:{Banner:x.l,PercentageBar:V,SortableTable:E.A,Tabbed:S.A,Tab:N.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){return{provider:null,summaryData:{checks_total:0,checks_fail:0,checks_warn:0,checks_pass:0},vectorData:{security:{checks_total:0,checks_fail:0,checks_warn:0,checks_pass:0},operationalBestPractice:{checks_total:0,checks_fail:0,checks_warn:0,checks_pass:0},designValidation:{checks_total:0,checks_fail:0,checks_warn:0,checks_pass:0},supportMatrixConformance:{checks_total:0,checks_fail:0,checks_warn:0,checks_pass:0}},eomEol:{local:{name:"",version:"",is_eol:!1,is_eom:!1,eol:"",eom:""},rancher:{name:"",version:"",is_eol:!1,is_eom:!1,eol:"",eom:""}},vectorList:{all:[],security:[],operationalBestPractice:[],designValidation:[],supportMatrixConformance:[]},colorStopsFail:{0:"--success",20:"--info",75:"--warning",95:"--error"},colorStopsNormal:{0:"--error",20:"--warning",75:"--info",95:"--success"},activeTab:"security"}},computed:{checkResultHeaders(){const e=[{name:"checkStatus",labelKey:"tableHeaders.checkStatus"},{name:"checkNumber",labelKey:"tableHeaders.checkNumber"},{name:"checkDescription",labelKey:"tableHeaders.checkDescription"}];return e}},mounted(){this.fetchReport()},methods:{async fetchReport(){const e=this.value.id,t="/k8s/clusters/local/api/v1/namespaces/sr-operator-system/services/http:sr-bundle-app-frontend-service:80/proxy/?key="+e+"&type=data";fetch(t).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((e=>{const t={summaryData:{checks_total:0,checks_fail:0,checks_warn:0,checks_pass:0,checks_skip:0},vectorData:{},cards:[]};for(const o of e.clusters)if("local"===o.cluster_id){this.provider=o.kubernetes_distro,t.summaryData.checks_fail+=o.checks_fail,t.summaryData.checks_warn+=o.checks_warn,t.summaryData.checks_pass+=o.checks_pass,t.summaryData.checks_skip+=o.checks_skip,t.summaryData.checks_total+=o.checks_total-o.checks_skip,o.groups.forEach((e=>{e.checks.forEach((e=>{t.vectorData[e.vector]||(t.vectorData[e.vector]={checks_total:0,checks_pass:0,checks_fail:0,checks_warn:0}),t.vectorData[e.vector].checks_pass+="pass"===e.state,t.vectorData[e.vector].checks_fail+="fail"===e.state,t.vectorData[e.vector].checks_warn+="warn"===e.state,"fail"!=e.state&&"warn"!=e.state||t.cards.push({id:e.check_id,details:e.text,state:"fail"==e.state?"Failed":"Warning",vector:e.vector,priority:e.priority})}))}));for(const e in t.vectorData){const a=t.vectorData[e];a.checks_total=a.checks_pass+a.checks_fail+a.checks_warn}break}e?.systems_summary?.eom_eol?.forEach((e=>{if("local"!==e.cluster)return;const t={name:e.app,version:e.version.split(".").slice(0,2).join("."),eol:e.eol_date?e.eol_date.split("/").join("-"):null,eom:e.eom_date?e.eom_date.split("/").join("-"):null,is_eol:e.is_eol,is_eom:e.is_eom};"rancher"===e.app?this.eomEol.rancher=t:e.app===this.provider&&(this.eomEol.local=t)})),t.cards.sort(((e,t)=>{const a={high:1,medium:2,low:3},o={fail:1,warn:2};return(o[e.state]||3)-(o[t.state]||3)||a[e.priority]-a[t.priority]}));const a=5;t.cards.forEach((e=>{const t={checkStatus:e.state,checkNumber:e.id,checkDescription:e.details};switch(this.vectorList.all.length<a&&this.vectorList.all.push(t),e.vector){case"Security":this.vectorList.security.length<a&&this.vectorList.security.push(t);break;case"Operational Best Practice":this.vectorList.operationalBestPractice.length<a&&this.vectorList.operationalBestPractice.push(t);break;case"Design Validation":this.vectorList.designValidation.length<a&&this.vectorList.designValidation.push(t);break;case"Support Matrix Conformance":this.vectorList.supportMatrixConformance.length<a&&this.vectorList.supportMatrixConformance.push(t);break}})),this.summaryData=t.summaryData||{},this.vectorData.security=t.vectorData["Security"],this.vectorData.operationalBestPractice=t.vectorData["Operational Best Practice"],this.vectorData.designValidation=t.vectorData["Design Validation"],this.vectorData.supportMatrixConformance=t.vectorData["Support Matrix Conformance"]})).catch((e=>{B.error("Error:",e)}))},switchToTab(e){this.$refs.tabbedRef?.select(e)}}};a(50102);const M=(0,y.A)(C,[["render",p],["__scopeId","data-v-024d1bee"]]);var P=M},50102:function(e,t,a){var o=a(17302);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var r=a(74825).A;r("6709e800",o,!0,{sourceMap:!1,shadowMode:!1})},54752:function(e,t,a){var o=a(22880);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var r=a(74825).A;r("bcd5ae90",o,!0,{sourceMap:!1,shadowMode:!1})},56530:function(e,t,a){"use strict";a.r(t);var o=a(36758),r=a.n(o),c=a(40935),s=a.n(c),l=s()(r());l.push([e.id,".percentage-bar[data-v-4ade54a6]{display:flex;flex-direction:row}.percentage-bar .percentage-value[data-v-4ade54a6]{word-break:keep-all}",""]),t["default"]=l},70738:function(e,t,a){var o=a(56530);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var r=a(74825).A;r("b37b1fae",o,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=supportability-review-app-3.0.0.umd.min.detail.js.map