(("undefined"!==typeof self?self:this)["webpackJsonpsupportability_review_app_2_0_0"]=("undefined"!==typeof self?self:this)["webpackJsonpsupportability_review_app_2_0_0"]||[]).push([[0],{"50dc":function(e,a,t){var s=t("c38d");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var c=t("0ed3").default;c("1af5f1df",s,!0,{sourceMap:!1,shadowMode:!1})},c38d:function(e,a,t){var s=t("3c10");a=s(!1),a.push([e.i,".main-card-container[data-v-808e3c8c]{display:flex;flex-wrap:wrap}.main-card-container .card[data-v-808e3c8c]{width:-moz-fit-content;width:fit-content;display:flex;flex-direction:column;flex-grow:1;border:1px solid var(--border);margin:0 10px 20px 10px;padding:20px;height:320px}.main-card-container .card[data-v-808e3c8c]:first-child{margin-left:0}.main-card-container .card[data-v-808e3c8c]:last-child{margin-right:0}.main-card-container .card .card-top-block[data-v-808e3c8c]{display:flex;align-items:center;margin-bottom:20px}.main-card-container .card .card-top-block h1[data-v-808e3c8c]{margin:0 15px 0 0}.main-card-container .card .card-top-block p[data-v-808e3c8c]{font-size:18px}.main-card-container .card button[data-v-808e3c8c]{justify-content:center;width:-moz-fit-content;width:fit-content;margin-top:12px}.main-card-container .used-percentage-container>div[data-v-808e3c8c]{display:flex;justify-content:space-between}.main-card-container .used-percentage-container>div span[data-v-808e3c8c]{font-size:12px;padding-left:10px;color:var(--muted)}",""]),e.exports=a},e26d:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e._self._c;return a("div",[a("h1",[e._v("Local cluster summary")]),a("h2",[e._v("Checks status")]),null===e.clusterData?a("Banner",{staticClass:"mb-20",attrs:{color:"info"}},[a("div",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t("nav.inProgress",{},!0),expression:"t('nav.inProgress', {}, true)"}]})]):a("div",{staticClass:"main-card-container"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-top-block"},[a("h2",[e._v("Cluster state")])]),a("div",[a("h5",[e._v("Provider: "+e._s(e.eomEol.local.name))]),e.eomEol.rancher.is_eol?a("h5",[e._v(" "+e._s(e.eomEol.rancher.name)+" "+e._s(e.eomEol.rancher.version)+" EOL: "+e._s(e.eomEol.rancher.eol)+" ")]):e.eomEol.rancher.is_eom?a("h5",[e._v(" "+e._s(e.eomEol.rancher.name)+" "+e._s(e.eomEol.rancher.version)+" EOM: "+e._s(e.eomEol.rancher.eom)+" ")]):e._e(),e.eomEol.local.is_eol?a("h5",[e._v(" "+e._s(e.eomEol.local.name)+" "+e._s(e.eomEol.local.version)+" EOL: "+e._s(e.eomEol.local.eol)+" ")]):e.eomEol.local.is_eom?a("h5",[e._v(" "+e._s(e.eomEol.local.name)+" "+e._s(e.eomEol.local.version)+" EOM: "+e._s(e.eomEol.local.eom)+" ")]):e._e()])]),a("div",{staticClass:"card"},[a("div",{staticClass:"card-top-block"},[a("h2",[e._v("Check Result")])]),a("div",[a("h5",[e._v("Passed ("+e._s(e.summaryData.checks_pass)+"/"+e._s(e.summaryData.checks_total)+")")]),a("PercentageBar",{staticClass:"mb-15",attrs:{"show-percentage":!0,"model-value":e.summaryData.checks_pass/e.summaryData.checks_total*100,"color-stops":e.colorStopsPassed}}),a("h5",[e._v("Failed ("+e._s(e.summaryData.checks_fail)+"/"+e._s(e.summaryData.checks_total)+")")]),a("PercentageBar",{staticClass:"mb-15",attrs:{"show-percentage":!0,"model-value":e.summaryData.checks_fail/e.summaryData.checks_total*100,"color-stops":e.colorStopsFailed}}),a("h5",[e._v("Warning ("+e._s(e.summaryData.checks_warn)+"/"+e._s(e.summaryData.checks_total)+")")]),a("PercentageBar",{staticClass:"mb-15",attrs:{"show-percentage":!0,"model-value":e.summaryData.checks_warn/e.summaryData.checks_total*100,"color-stops":e.colorStopsWarning}})],1)]),a("div",{staticClass:"card"},[a("div",{staticClass:"card-top-block"},[a("h2",[e._v("Check Vectors")])]),a("div",[a("h5",[e._v("Security ("+e._s(e.vectorData.security.checks_pass)+"/"+e._s(e.vectorData.security.checks_total)+")")]),a("PercentageBar",{staticClass:"mb-15",attrs:{"show-percentage":!0,"model-value":e.vectorData.security.checks_pass/e.vectorData.security.checks_total*100,"color-stops":e.colorStopsVector}}),a("h5",[e._v(" Operational Best Practice ("+e._s(e.vectorData.operationalBestPractice.checks_pass)+"/"+e._s(e.vectorData.operationalBestPractice.checks_total)+") ")]),a("PercentageBar",{staticClass:"mb-15",attrs:{"show-percentage":!0,"model-value":e.vectorData.operationalBestPractice.checks_pass/e.vectorData.operationalBestPractice.checks_total*100,"color-stops":e.colorStopsVector}}),a("h5",[e._v(" Design Validation ("+e._s(e.vectorData.designValidation.checks_pass)+"/"+e._s(e.vectorData.designValidation.checks_total)+") ")]),a("PercentageBar",{staticClass:"mb-15",attrs:{"show-percentage":!0,"model-value":e.vectorData.designValidation.checks_pass/e.vectorData.designValidation.checks_total*100,"color-stops":e.colorStopsVector}}),a("h5",[e._v(" Support Matrix Conformance ("+e._s(e.vectorData.supportMatrixConformance.checks_pass)+"/"+e._s(e.vectorData.supportMatrixConformance.checks_total)+") ")]),a("PercentageBar",{staticClass:"mb-15",attrs:{"show-percentage":!0,"model-value":e.vectorData.supportMatrixConformance.checks_pass/e.vectorData.supportMatrixConformance.checks_total*100,"color-stops":e.colorStopsVector}})],1)])]),a("h2",[e._v("Failed/Warnings")]),null===e.clusterData?a("Banner",{staticClass:"mb-20",attrs:{color:"info"}},[a("div",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t("nav.inProgress",{},!0),expression:"t('nav.inProgress', {}, true)"}]})]):a("Tabbed",[a("Tab",{attrs:{"label-key":"sr.vector.security",name:"security",weight:5}},[a("div",[a("SortableTable",{attrs:{headers:e.checkResultHeaders,search:!1,rowActions:!1,rows:e.vectorList.security}})],1)]),a("Tab",{attrs:{"label-key":"sr.vector.operationalBestPractice",name:"operationalBestPractice",weight:4}},[a("div",[a("SortableTable",{attrs:{headers:e.checkResultHeaders,search:!1,rowActions:!1,rows:e.vectorList.operationalBestPractice}})],1)]),a("Tab",{attrs:{"label-key":"sr.vector.designValidation",name:"designValidation",weight:3}},[a("div",[a("SortableTable",{attrs:{headers:e.checkResultHeaders,search:!1,rowActions:!1,rows:e.vectorList.designValidation}})],1)]),a("Tab",{attrs:{"label-key":"sr.vector.supportMatrixConformance",name:"supportMatrixConformance",weight:2}},[a("div",[a("SortableTable",{attrs:{headers:e.checkResultHeaders,search:!1,rowActions:!1,rows:e.vectorList.supportMatrixConformance}})],1)])],1),a("div",[a("Banner",{staticClass:"mb-10",attrs:{color:"info"}},[a("div",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t("sr.menuLabels.upSell",{},!0),expression:"t('sr.menuLabels.upSell', {}, true)"}]})])],1)],1)},c=[],r=t("ea72"),o=t("0fb1"),i=t("0cb2"),n=t("38de"),l=t("6418"),h={name:"ReviewBundleDetailView",components:{Banner:l["a"],PercentageBar:r["a"],SortableTable:o["a"],Tabbed:i["a"],Tab:n["a"]},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){return{clusterData:null,summaryData:{checks_total:0,checks_fail:0,checks_warn:0,checks_pass:0},vectorData:{security:{checks_total:0,checks_fail:0,checks_warn:0,checks_pass:0},operationalBestPractice:{checks_total:0,checks_fail:0,checks_warn:0,checks_pass:0},designValidation:{checks_total:0,checks_fail:0,checks_warn:0,checks_pass:0},supportMatrixConformance:{checks_total:0,checks_fail:0,checks_warn:0,checks_pass:0}},eomEol:{local:{name:"",version:"",is_eol:!1,is_eom:!1,eol:"",eom:""},rancher:{name:"",version:"",is_eol:!1,is_eom:!1,eol:"",eom:""}},vectorList:{security:[],operationalBestPractice:[],designValidation:[],supportMatrixConformance:[]},colorStopsPassed:{0:"--success"},colorStopsFailed:{0:"--error"},colorStopsWarning:{0:"--warning"},colorStopsVector:{0:"--error",20:"--warning",75:"--info",95:"--success"}}},computed:{checkResultHeaders(){const e=[{name:"checkStatus",labelKey:"tableHeaders.checkStatus"},{name:"checkNumber",labelKey:"tableHeaders.checkNumber"},{name:"checkDescription",labelKey:"tableHeaders.checkDescription"}];return e}},mounted(){this.fetchReport()},methods:{async fetchReport(){const e=this.value.id,a="/k8s/clusters/local/api/v1/namespaces/sr-operator-system/services/http:sr-bundle-app-frontend-service:80/proxy/?key="+e+"&type=data";fetch(a).then(e=>{if(!e.ok)throw new Error("HTTP error! Status: "+e.status);return e.json()}).then(e=>{var a;const t={clusterData:[{type:"aks",count:0},{type:"eks",count:0},{type:"gke",count:0},{type:"harvester",count:0},{type:"k3s",count:0},{type:"rke",count:0},{type:"rke2",count:0}],summaryData:{checks_total:0,checks_fail:0,checks_warn:0,checks_pass:0,checks_skip:0},vectorData:{},cards:[]};null===e||void 0===e||null===(a=e.systems_summary)||void 0===a||null===(a=a.eom_eol)||void 0===a||a.forEach(e=>{const a=e.eol_date?e.eol_date.split("/").reverse().join("/"):null,t=e.eom_date?e.eom_date.split("/").reverse().join("/"):null,s=e.version.split(".").slice(0,2).join(".");"local"===e.cluster&&"rancher"===e.app?this.eomEol.rancher={name:e.app,version:s,eol:a,eom:t,is_eol:e.is_eol,is_eom:e.is_eom}:"local"===e.cluster&&(this.eomEol.local={name:e.app,version:s,eol:a,eom:t,is_eol:e.is_eol,is_eom:e.is_eom})});for(const c of e.clusters){if("local"!==c.cluster_id)continue;const e=t.clusterData.findIndex(e=>e.type===c.kubernetes_distro);-1!==e&&t.clusterData[e].count++,t.summaryData.checks_fail+=c.checks_fail,t.summaryData.checks_warn+=c.checks_warn,t.summaryData.checks_pass+=c.checks_pass,t.summaryData.checks_skip+=c.checks_skip,t.summaryData.checks_total+=c.checks_total-c.checks_skip,c.groups.forEach(e=>{e.checks.forEach(e=>{t.vectorData[e.vector]||(t.vectorData[e.vector]={checks_total:0,checks_pass:0,checks_fail:0,checks_warn:0}),t.vectorData[e.vector].checks_pass+="pass"===e.state,t.vectorData[e.vector].checks_fail+="fail"===e.state,t.vectorData[e.vector].checks_warn+="warn"===e.state,"fail"!=e.state&&"warn"!=e.state||t.cards.push({id:e.check_id,details:e.text,state:e.state,vector:e.vector,priority:e.priority})})});for(const a in t.vectorData){const e=t.vectorData[a];e.checks_total=e.checks_pass+e.checks_fail+e.checks_warn}break}t.cards.sort((e,a)=>{const t={high:1,medium:2,low:3},s={fail:1,warn:2};return(s[e.state]||3)-(s[a.state]||3)||t[e.priority]-t[a.priority]});const s=5;t.cards.forEach(e=>{const a={checkStatus:e.state,checkNumber:e.id,checkDescription:e.details};switch(e.vector){case"Security":this.vectorList.security.length<s&&this.vectorList.security.push(a);break;case"Operational Best Practice":this.vectorList.operationalBestPractice.length<s&&this.vectorList.operationalBestPractice.push(a);break;case"Design Validation":this.vectorList.designValidation.length<s&&this.vectorList.designValidation.push(a);break;case"Support Matrix Conformance":this.vectorList.supportMatrixConformance.length<s&&this.vectorList.supportMatrixConformance.push(a);break}}),this.clusterData=t.clusterData||[],this.summaryData=t.summaryData||{},this.vectorData.security=t.vectorData["Security"],this.vectorData.operationalBestPractice=t.vectorData["Operational Best Practice"],this.vectorData.designValidation=t.vectorData["Design Validation"],this.vectorData.supportMatrixConformance=t.vectorData["Support Matrix Conformance"]}).catch(e=>{console.error("Error:",e)})}}},p=h,d=(t("f4b1"),t("2be6")),m=Object(d["a"])(p,s,c,!1,null,"808e3c8c",null);a["default"]=m.exports},f4b1:function(e,a,t){"use strict";t("50dc")}}]);
//# sourceMappingURL=supportability-review-app-2.0.0.umd.min.detail.js.map